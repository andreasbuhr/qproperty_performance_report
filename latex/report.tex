\documentclass{article}
\usepackage[utf8]{inputenc}

\usepackage{pgfplots}

% for pgftable https://ctan.space-pro.be/tex-archive/graphics/pgf/contrib/pgfplots/doc/pgfplotstable.pdf
\usepackage{pgfplotstable}
\usepackage{booktabs}
\usepackage{array}
\usepackage{colortbl}
\pgfplotsset{compat=1.16}

\title{QProperty Performance Report}
\author{Andreas Buhr}
\date{\today}

\begin{document}
\maketitle
\section{Read Performance}
\subsection{Read From Old-Style Property}
\subsection{Read From QProperty}
\subsubsection{Read From Value}
\subsubsection{Read From Binding}
\subsection{Read From QObjectBindableProperty}
\subsubsection{Read From Value}
\subsubsection{Read From Binding}
\section{Write Performance}
\subsection{Write to Old-Style Property}
\subsection{Write to QProperty}
\subsubsection{Without Observers}
\subsubsection{With Observers}
\subsection{Write to QObjectBindableProperty}
\subsubsection{Without Observers}
\subsubsection{With Observers}
\section{Memory Requirements}
\pgfplotstabletypeset[
    columns/name/.style={column type=|l, string type %
    },
    columns/value/.style={column type=|r|},
]{sizeofs.txt}

    \begin{tikzpicture}
        \begin{axis}[
        title=Memory usage per binding,
        xlabel=number of upstream properties,
        ylabel=memory usage in bytes,
        ]
            \addplot table {binding_memusage.txt};
            \addplot table {newbinding_memusage.txt};
            \end{axis}
    \end{tikzpicture}

\pgfplotstabletypeset[
    columns/connections/.style={column type=|l},
    columns/memory/.style={column type=|r|},
]{binding_memusage.txt}


    \begin{tikzpicture}
        \begin{axis}[
                title=Evaluation time of non-dirty binding (cold cache),
        xlabel=number of upstream properties,
        ylabel=time for nondirty read in ns,
        ]
            \addplot table {binding_nondirtyread.txt};
            \addplot table {newbinding_nondirtyread.txt};
            \end{axis}
    \end{tikzpicture}


\begin{tikzpicture}
    \begin{axis}[
        title=Evaluation time write and notify (cold cache),
        xlabel=number of upstream properties,
        ylabel=time for write and notify in ns,
    ]
        \addplot table {binding_setnotify.txt};
        \addplot table {newbinding_setnotify.txt};
    \end{axis}
\end{tikzpicture}


\begin{tikzpicture}
    \begin{axis}[
        title=Evaluation time of dirty binding (cold cache),
        xlabel=number of upstream properties,
        ylabel=time for dirty read in ns,
    ]
        \addplot table {binding_dirtyread.txt};
        \addplot table {newbinding_dirtyread.txt};
    \end{axis}
\end{tikzpicture}

\end{document}

